{"version":3,"file":"static/js/310.24d9257c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\",\"animate\":\"Loader_animate__+YIar\"};","import css from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={css.loader}>\n      <span></span>\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n  );\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  width: 93vw;\n  margin-left: auto;\n  margin-right: auto;\n  gap: 10px;\n  @media screen and (min-width: 768px) {\n    gap: 17px;\n    width: 90vw;\n  }\n  @media screen and (min-width: 1200px) {\n    gap: 20px;\n    width: 98vw;\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n  font-size: 14px;\n`;\n\nexport const MTitle = styled.h3`\n  padding: 8px;\n  color: #2af598;\n  font-size: 14px;\n`;\n\nexport const ListItem = styled.li`\n  display: flex;\n  background-color: #212121;\n  padding-bottom: 5px;\n  border-radius: 5px;\n  border: 2px solid #2af598;\n  overflow: hidden;\n  object-fit: cover;\n  width: 48%;\n  @media screen and (min-width: 768px) {\n    width: 31%;\n  }\n  @media screen and (min-width: 980px) {\n    width: 18%;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 9%;\n  }\n  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n  }\n`;\n\nexport const Img = styled.img`\n  width: 100%;\n  flex-grow: 1;\n`;\n\nexport const Button = styled.button`\n  background-color: #08aeea;\n  background-image: linear-gradient(0deg, #08aeea 0%, #2af598 100%);\n  border-radius: 5px;\n  font-family: Dosis;\n  width: 85px;\n  height: 40px;\n  padding: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #212121;\n  font-size: 24px;\n  border: 2px solid #212121;\n  cursor: pointer;\n  &:hover {\n    color: #fff;\n    border: 2px solid #fff;\n  }\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  border-radius: 5px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  height: 40px;\n  padding-left: 10px;\n  padding-right: 4px;\n  color: #fff;\n  background-color: #212121;\n  &:focus::placeholder {\n    color: transparent;\n  }\n  &::placeholder {\n    color: #2af598;\n    opacity: 1;\n    font-family: pacifico;\n    font-size: 18px;\n  }\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  gap: 5px;\n`;\n\nexport const Loadmore = styled.button`\n  background-color: #08aeea;\n  background-image: linear-gradient(0deg, #08aeea 0%, #2af598 100%);\n  border-radius: 5px;\n  font-family: Dosis;\n  min-width: 85px;\n  height: 40px;\n  padding: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #212121;\n  font-size: 24px;\n  border: 2px solid #212121;\n  cursor: pointer;\n  &:hover {\n    color: #fff;\n    border: 2px solid #fff;\n  }\n`;\n","import { useState, useEffect, Suspense } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchMovieBySearch } from 'services/moviesAPI';\nimport { Loader } from '../../components/Loader/Loader';\nimport img from '../../images/no_poster.jpg';\nimport img2 from '../../images/noresults.jpg';\nimport {\n  List,\n  ListItem,\n  Img,\n  StyledLink,\n  MTitle,\n  Input,\n  Button,\n  Form,\n  Loadmore,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = searchParams.get('title');\n    if (query === null || query === '') return;\n    const fetchMovies = async () => {\n      try {\n        const data = await fetchMovieBySearch(query, page);\n        const movies = data.results;\n        setMovies(prevMovies => [...prevMovies, ...movies]);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    fetchMovies();\n  }, [searchParams, page]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    setSearchParams({ title: form.elements.query.value.trim() });\n    form.reset();\n    setMovies([]);\n    setError('');\n  };\n\n  const picturesLoading = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Input type=\"text\" name=\"query\" placeholder=\"Search movies\" />\n        <Button>Search</Button>\n      </Form>\n      {error && <img src={img2} width=\"550\" alt=\"No results\" />}\n      {movies && (\n        <>\n          <Suspense fallback={<Loader />}>\n            <List>\n              {movies.map(({ title, id, poster_path }) => (\n                <ListItem key={id}>\n                  <StyledLink to={id.toString()} state={{ from: location }}>\n                    {(poster_path && (\n                      <Img\n                        src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n                        alt={title}\n                        width=\"200\"\n                      />\n                    )) || <Img src={img} alt={title} width=\"200\" />}\n                    <MTitle>{title}</MTitle>\n                  </StyledLink>\n                </ListItem>\n              ))}\n            </List>\n            {movies.length > 0 && movies.length % 20 === 0 && (\n              <Loadmore onClick={picturesLoading}>Load more</Loadmore>\n            )}\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst KEY = '894a5fcb5eb3af426933275e70f0cd83';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchTrendingMovies() {\n  const response = await axios('trending/movie/day', {\n    params: {\n      api_key: KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieById(movie_id) {\n  const response = await axios(`movie/${movie_id}`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieBySearch(query, page) {\n  const response = await axios(`search/movie`, {\n    params: {\n      api_key: KEY,\n      query,\n      page,\n    },\n  });\n  if (response.data.results.length === 0) {\n    throw Error;\n  } else return response.data;\n}\n\nexport async function fetchMovieCast(movie_id) {\n  const response = await axios(`movie/${movie_id}/credits`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieReviews(movie_id) {\n  const response = await axios(`movie/${movie_id}/reviews`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n  return response.data;\n}\n"],"names":["Loader","className","css","List","styled","StyledLink","Link","MTitle","ListItem","Img","Button","Input","Form","Loadmore","useState","movies","setMovies","error","setError","page","setPage","useSearchParams","searchParams","setSearchParams","location","useLocation","useEffect","query","get","fetchMovies","fetchMovieBySearch","data","results","prevMovies","onSubmit","event","preventDefault","form","target","title","elements","value","trim","reset","type","name","placeholder","src","img2","width","alt","Suspense","fallback","map","id","poster_path","to","toString","state","from","img","length","onClick","prevPage","KEY","fetchTrendingMovies","axios","params","api_key","response","fetchMovieById","movie_id","Error","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}